<!-- GSAP - CSS -->

<style>
  .tsw-gsap-container {
    --tsw-font-display: "TeleNeo Web", var(--phx--text-family-brand), -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --tsw-font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

    --tsw-font-size: 16px;
    --color-brand-primary-400: #e20074;
    --color-brand-primary-600: #770141;
    --color-brand-grayscale-400: #ccc;
    --color-brand-grayscale-500: #8c8c8c;
    --color-brand-grayscale-600: #6a6a6a;
    --color-brand-grayscale-700: #414141;
    --color-brand-grayscale-900: #1c1c1c;
    --color-brand-grayscale-white: #fff;

    --color-overlay: rgba(0, 0, 0, 0.4);
    --color-input-shadow: 0px 0px 5px 0px rgba(226, 0, 116, 0.5);

    font-family: var(--tsw-font-main);
  }

  .tsw-gsap {
    --countdown-text-color: var(--color-brand-grayscale-900);
    --countdown-background-color: var(--color-brand-grayscale-white);
    --time-unit-text-color: var(--color-brand-grayscale-white);
    --time-unit-background-color: var(--color-brand-grayscale-900);

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 40px;
    padding: 30px;
    color: var(--countdown-text-color);
    background-color: var(--countdown-background-color);
  }

  .tsw-gsap.dark-theme {
    --countdown-text-color: var(--color-brand-grayscale-white);
    --countdown-background-color: var(--color-brand-grayscale-900);
    --time-unit-text-color: var(--color-brand-grayscale-900);
    --time-unit-background-color: var(--color-brand-grayscale-white);
  }

  /* Reset */

  h1,
  p {
    margin: 0;
    line-height: normal;
  }

  /* Header styles */

  .tsw-header {
    font-size: 24px;
  }

  /* Box styles */

  .tsw-boxes {
    display: flex;
    gap: 30px;
  }

  .tsw-box {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 22px;
    color: var(--color-brand-grayscale-white);
    width: 100px;
    height: 100px;
    border-radius: 10px;
  }

  .tsw-gradient-magenta {
    background: linear-gradient(to bottom right, var(--color-brand-primary-600), var(--color-brand-primary-400));
  }

  /* Interface and buttons */

  .tsw-gsap-interface {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 18px;
  }

  .tsw-gsap button {
    cursor: pointer;
    padding: 10px 15px;
    font-size: 16px;
    font-weight: 700;
    border: 0;
    color: var(--color-brand-grayscale-white);
    background-color: var(--color-brand-primary-400);
  }
</style>

<!-- GSAP - HTML -->

<div class="tsw-gsap-container">
  <div class="tsw-gsap">
    <header class="tsw-header">
      <h1>GSAP Stuff!</h1>
    </header>

    <div class="tsw-boxes">
      <div class="tsw-box tsw-gradient-magenta"></div>
      <div class="tsw-box tsw-gradient-magenta"></div>
      <div class="tsw-box tsw-gradient-magenta"></div>
      <div class="tsw-box tsw-gradient-magenta"></div>
    </div>

    <div class="tsw-gsap-interface">
      <button type="button" class="tsw-button-spin">Spin</button>
      <button type="button" class="tsw-button-scale">Scale</button>
      <button type="button" class="tsw-button-bounce">Bounce</button>
    </div>
  </div>
</div>

<!-- GSAP - JavaScript -->

<script>
  const gsapWrapper = document.querySelector("#tsw-gsap").querySelector("xpr-npi-content").shadowRoot;
  const gsapContainer = gsapWrapper.querySelector(".tsw-gsap-container");
  const boxes = gsapContainer.querySelectorAll(".tsw-box");

  const addContent = () => {
    boxes.forEach((b) => {
      b.textContent = "Hello!";
    });
  };

  // GSAP code

  const animateBoxes = () => {
    const tl = gsap.timeline();

    tl.to(boxes, { rotation: 360, duration: 1, ease: "power2.out", yoyo: true, repeat: 1 });
    tl.to(boxes, { scale: 1.5, duration: 0.5, ease: "power2.inOut", yoyo: true, repeat: 1 }, "<2");
    tl.to(boxes, { y: -30, duration: 0.1, ease: "power2.out", stagger: 0.1, yoyo: true, repeat: 1 }, "<1");
  };

  window.addEventListener("load", () => {
    addContent();
    animateBoxes();
  });

  // Buttons

  const tswButtonSpin = gsapContainer.querySelector(".tsw-button-spin");
  const tswButtonScale = gsapContainer.querySelector(".tsw-button-scale");
  const tswButtonBounce = gsapContainer.querySelector(".tsw-button-bounce");

  tswButtonSpin.addEventListener("click", () => {
    gsap.to(boxes, { rotation: 360, duration: 1, ease: "power2.out", stagger: 0.2, yoyo: true, repeat: 1 });
  });

  tswButtonScale.addEventListener("click", () => {
    gsap.to(boxes, { scale: 1.5, duration: 0.5, ease: "power2.inOut", yoyo: true, repeat: 1 });
  });

  tswButtonBounce.addEventListener("click", () => {
    gsap.to(boxes, { y: -30, duration: 0.1, ease: "power2.out", stagger: 0.1, yoyo: true, repeat: 1 });
  });
</script>
