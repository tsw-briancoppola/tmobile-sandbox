<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

<style>

.tsw-main {

/* Set up primary text */
--tsw-font-display: "Inter", sans-serif;
--tsw-font-main: "Inter", sans-serif;

/* Set up color palette */
--tsw-color-black-000: #000000;
--tsw-color-black-100: #101010;
--tsw-color-black-200: #202020;
--tsw-color-black-300: #303030;
--tsw-color-black-400: #404040;
--tsw-color-black-500: #505050;
--tsw-color-black-600: #606060;
--tsw-color-black-700: #707070;
--tsw-color-black-800: #808080;
--tsw-color-black-900: #909090;
/**/
--tsw-color-white-000: #ffffff;
--tsw-color-white-100: #f8f8f8;
--tsw-color-white-200: #e8e8e8;
--tsw-color-white-300: #d8d8d8;
--tsw-color-white-400: #c8c8c8;
--tsw-color-white-500: #b8b8b8;
--tsw-color-white-600: #a8a8a8;
/**/
--tsw-color-brand-300: #e65ba2;
--tsw-color-brand-500: #E20074;
--tsw-color-brand-700: #a10053;

--tsw-color-brand-gradient: linear-gradient(0deg, var(--tsw-color-brand-300) 0%, var(--tsw-color-brand-500) 10%, var(--tsw-color-brand-700) 90%);
/**/
--tsw-color-red-300: #CE1C11;
--tsw-color-red-500: #C11A10;
--tsw-color-red-700: #81110B;
/**/
--tsw-color-green-300: #1CCE13;
--tsw-color-green-500: #17A710;
--tsw-color-green-700: #11810C;

/* Set up grid spacing */
--tsw-spacing-grid: 1.6rem;

/* Set border radius */
--tsw-border-radius: 1.6rem;

/* Box shadows */
--tsw-box-shadow-100: 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);
--tsw-box-shadow-200: 0px 7.01556px 5.61245px rgba(0, 0, 0, 0.0274815), 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);
--tsw-box-shadow-300: 0px 17.22px 11.193px rgba(0, 0, 0, 0.035), 0px 7.01556px 5.61245px rgba(0, 0, 0, 0.0274815), 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);
--tsw-box-shadow-400: 0px 33.1645px 21.9396px rgba(0, 0, 0, 0.0425185), 0px 17.22px 11.193px rgba(0, 0, 0, 0.035), 0px 7.01556px 5.61245px rgba(0, 0, 0, 0.0274815), 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);
--tsw-box-shadow-500: 0px 55.8056px 40.3395px rgba(0, 0, 0, 0.0531481), 0px 33.1645px 21.9396px rgba(0, 0, 0, 0.0425185), 0px 17.22px 11.193px rgba(0, 0, 0, 0.035), 0px 7.01556px 5.61245px rgba(0, 0, 0, 0.0274815), 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);
--tsw-box-shadow-600: 0px 86.1px 68.88px rgba(0, 0, 0, 0.07), 0px 55.8056px 40.3395px rgba(0, 0, 0, 0.0531481), 0px 33.1645px 21.9396px rgba(0, 0, 0, 0.0425185), 0px 17.22px 11.193px rgba(0, 0, 0, 0.035), 0px 7.01556px 5.61245px rgba(0, 0, 0, 0.0274815), 0px 1.59445px 2.71056px rgba(0, 0, 0, 0.0168519);

/* BHM Specific */
--line-size: 3px;
--line-size-2x: 6px;
--line-size-10x: 30px;

}

/* Field specific styling */

.tsw-main .tsw-quiz {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.6rem;
    margin-inline: auto;
    max-width: 1080px;
}

.tsw-main .tsw-quiz .question {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3.2rem;
    gap: 1.6rem;
    font-family: var(--tsw-font-display);
    font-weight: 600;
    text-align: center;
    background: var(--tsw-color-white-000);
    border-radius: 0.5rem;
}

.tsw-main .tsw-quiz .question span {
    font-size: 1.4rem;
    line-height: 1.2em;
}

.tsw-main .tsw-quiz .question .selection {
    display: flex;
    gap: 0.8rem;
}

.tsw-main .tsw-quiz .question .selection button {
    font-family: var(--tsw-font-display);
    font-size: 1.2rem;
    font-weight: 800;
    padding: 0.7rem 1.4rem;
    background: transparent;
    border: 2px solid var(--tsw-color-black-000);
    border-radius: 0.5rem;
    transition: 0.25s;
    cursor: pointer;
}

.tsw-main .tsw-quiz .question .selection button:hover {
    opacity: 0.5;
    transition: 0.25s;
}

.tsw-main .tsw-quiz .question .selection button.active {
    background: var(--tsw-color-brand-500);
    border: 2px solid var(--tsw-color-brand-500);
    color: var(--tsw-color-white-000);
    transition: 0.25s;
}

@media screen and (max-width: 1024px) {
    .tsw-main .tsw-quiz {
        grid-template-columns: repeat(1, 1fr);
    }

    .tsw-main .tsw-quiz .question {
        padding: 1.2rem;
    }
}

.tsw-results {
    margin-inline: auto;
    max-width: 1080px;
    text-align: center;
    font-family: var(--tsw-font-main);
    padding: 1.2rem;
}

</style>

<!-- -->

<div class="tsw-main">

    <div class="tsw-quiz">

        <div class="question">
            <span>How many people live in your household?</span>

            <div class="selection">
                <button tsw-value="upTo2">1-2</button>
                <button tsw-value="upTo5">3-5</button>
                <button tsw-value="6plus">6+</button>
            </div>
        </div>

        <div class="question">
            <span>How many Wi-Fi devices are connected to your home internet?</span>

            <div class="selection">
                <button tsw-value="upTo32">1-32</button>
                <button tsw-value="upTo64">33-64</button>
                <button tsw-value="65plus">65+</button>
            </div>
        </div>

        <div class="question">

                <span>What is the approximate size of your home?</span>

                <div class="selection">
                    <button tsw-value="under2200">Under 2,200 sq. ft.</label>
                    <button tsw-value="over2200">Over 2,200 sq. ft.</button>
                </div>
        </div>

    </div>

    <div class="tsw-results">
        <div id="success_a">
            <h3>Great news!</h3>
            <p>T-Mobile Home Internet is a great fit for you. Now let's see if it's available in your area.</p>
        </div>
        <div id="success_b">
            <h3>Great news!</h3>
            <p>T-Mobile Home Internet is a great fit for you. Based on the size of your home, we recommend Home Internet Plus.</p>
        </div>
        <div id="success_c">
            <p>Our internet may not be right for you based on the number of your Wi-Fi devices, but you can still try it out with our free 15&#8209;day trial.</p>
        </div>
    </div>

</div>

<!-- -->

<script>

    // Results that coordinate with AEM modules on the landing page
    const RESULTS = ['#success_a', '#success_b', '#success_c'];
    // Array that holds user answers to questions
    let quizAnswers = new Array(RESULTS.length).fill(null);


    // Toggle quiz buttons
    const toggleQuizBtn = (theBtn) =>  {
        // Add .active class to button that was clicked
        theBtn.parentNode.querySelectorAll('button').forEach(btn => {
            btn.classList.remove('active')
        });
        theBtn.classList.add('active');

        // Get question that button is a part of
        const question = theBtn.closest(".question");
        // Get index of question
        const questionIndex = Array.from(question.parentNode.children).indexOf(question);

        // Add value of answer to quizAnswers array using question index
        quizAnswers[questionIndex] = theBtn.getAttribute('tsw-value');

        console.log(quizAnswers);
    }

    // Check current answers and decide which result to show if all questions are answered
    const checkAnswers = () => {
        // Reset each result before revealing a new result
        RESULTS.forEach(result => {
            document.querySelector(result).style.display = 'none';
        });

        // Check to see if any questions have not been answered
        const quizAnswersHaveNull = quizAnswers.some(item => item === null);

        // Reveal appropriate result if all questions have an answer
        if (!quizAnswersHaveNull) {
            if(quizAnswers[1] === '65plus'){
                document.querySelector('#success_c').style.display = 'block';
            }
            else if(quizAnswers[2] === 'over2200'){
                document.querySelector('#success_b').style.display = 'block';
            }
            else {
                document.querySelector('#success_a').style.display = 'block';
            }
        }
    }


    // Set the initial state of each result module
    RESULTS.forEach(result => {
        document.querySelector(result).style.display = 'none';
    })

    // Set up the quiz
    window.onload = () => {
        document.querySelectorAll('.tsw-quiz button').forEach(button => {
            button.addEventListener('click', () => { 
                toggleQuizBtn(button);
                checkAnswers();
            })
        });
    }

</script>